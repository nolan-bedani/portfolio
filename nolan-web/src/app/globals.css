@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------- Fond de page (fondu global) -------- */
:root{
  --bg-a:#0E1220;  /* haut */
  --bg-b:#0A0F1A;  /* milieu */
  --bg-c:#0E1324;  /* bas */
  --accent:#B9A2F5;
  --accent-dark:#6F5BD5;
}
html{ scroll-behavior:smooth; }
body{ @apply text-neutral-100 overflow-x-hidden; }

/* Gradient multi-couches + halos violet pâle */
.bg-app{
  background:
    radial-gradient(1200px 600px at 50% -200px, rgba(185,162,245,.20), transparent 60%),
    radial-gradient(900px 500px at 100% 0%, rgba(111,91,213,.18), transparent 60%),
    linear-gradient(180deg, var(--bg-a) 0%, var(--bg-b) 38%, var(--bg-c) 100%);
}

/* Offset d’ancre pour la navbar fixe */
.section{ scroll-margin-top: 96px; }

/* Trait séparateur entre sections */
.section-divider{
  height:1px;
  background: linear-gradient(90deg, transparent, rgba(185,162,245,.28), transparent);
  opacity:.8;
}

/* Petits helpers focus/accessibilité 2025 */
:focus-visible{ outline: 2px solid rgba(185,162,245,.6); outline-offset: 2px; }
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

/* offset d’ancre & séparateur */
.section{ scroll-margin-top: 96px; }
.section-divider{
  height:1px;
  background: linear-gradient(90deg, transparent, rgba(170,184,255,.28), transparent);
  opacity:.85;
}

/* Aurora + grain */
.bg-aurora {
  position: relative;
  isolation: isolate;
}
.bg-aurora::before {
  content: "";
  position: fixed;
  inset: -20% -10%;
  z-index: -2;
  background:
    radial-gradient(60rem 30rem at 20% -10%, rgba(170,184,255,.12), transparent 60%),
    radial-gradient(50rem 25rem at 80% 0%, rgba(108,124,255,.10), transparent 60%),
    conic-gradient(from 210deg at 50% 30%, rgba(170,184,255,.06), rgba(108,124,255,.05), transparent 40%, transparent 100%);
  filter: blur(12px) saturate(110%);
  animation: aurora-move 28s linear infinite;
}
@keyframes aurora-move {
  0%   { transform: translate3d(0,0,0) rotate(0deg); }
  50%  { transform: translate3d(0,-2%,0) rotate(4deg); }
  100% { transform: translate3d(0,0,0) rotate(0deg); }
}
/* grain léger */
.bg-aurora::after{
  content:"";
  position: fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  opacity:.08;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.25'/></svg>");
}
@media (prefers-reduced-motion: reduce) {
  .bg-aurora::before { animation: none; }
}
/* ========== Glow border réutilisable pour cartes ========== */
@keyframes glow-rotate { to { transform: rotate(360deg); } }

:root{
  /* adapte à ta palette */
  --glow-a: 104,122,255; /* #687aff */
  --glow-b: 170,184,255; /* #aab8ff */
}

/* wrapper parent */
.glow-group { position: relative; isolation: isolate; }

/* couche de glow (en-dessous du contenu) */
.glow-border {
  pointer-events: none;
  position: absolute;
  inset: -1px;               /* déborde très légèrement pour couvrir la bordure */
  border-radius: 1rem;        /* = rounded-2xl (adapte si besoin) */
  z-index: 0;
  overflow: hidden;
}

/* gradient animé (pause par défaut, tourne au hover) */
.glow-border::before{
  content:"";
  position:absolute;
  left:-50%; top:-50%;
  width:200%; height:200%;
  background-image:
    conic-gradient(
      from 0deg,
      rgba(var(--glow-a), .45),
      rgba(var(--glow-b), .25),
      rgba(var(--glow-a), .45),
      transparent 60%
    );
  filter: blur(10px);
  animation: glow-rotate 6s linear infinite;
  animation-play-state: paused;
  opacity: .35;
  transition: opacity .25s ease;
}

/* “passe-plat” pour recréer le fond sous le contenu et simuler la bordure lumineuse */
.glow-border::after{
  content:"";
  position:absolute;
  inset: 1px;
  border-radius: calc(1rem - 1px);
  background: transparent; /* on laisse le vrai fond au conteneur contenu */
}

/* activation au hover du parent */
.glow-group:hover .glow-border::before{
  animation-play-state: running;
  opacity: .7;
}

/* accessibilité : pas d’animation si reduce-motion */
@media (prefers-reduced-motion: reduce) {
  .glow-border::before { animation: none; }
}
